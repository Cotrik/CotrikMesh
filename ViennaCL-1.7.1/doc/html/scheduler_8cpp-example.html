<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>ViennaCL - The Vienna Computing Library: scheduler.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ViennaCL - The Vienna Computing Library
   &#160;<span id="projectnumber">1.7.1</span>
   </div>
   <div id="projectbrief">Free open-source GPU-accelerated linear algebra and solver library.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('scheduler_8cpp-example.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">scheduler.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<p>This tutorial show how to use the low-level scheduler to generate efficient custom OpenCL kernels at run time. The purpose of the scheduler is to provide a low-level interface for interfacing ViennaCL from languages other than C++, yet providing the user the ability to specify complex operations. Typical consumers are scripting languages such as Python (e.g. PyViennaCL), but the facility should be used in the future to also fuse compute kernels on the fly.</p>
<dl class="section warning"><dt>Warning</dt><dd>The scheduler is experimental and only intended for expert users.</dd></dl>
<p>We start this tutorial with including the necessary headers: </p>
<div class="fragment"><div class="line"><span class="comment">// include necessary system headers</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// include basic scalar and vector types of ViennaCL</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="scalar_8hpp.html">viennacl/scalar.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="vector_8hpp.html">viennacl/vector.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="matrix_8hpp.html">viennacl/matrix.hpp</a>&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="scheduler_2execute_8hpp.html">viennacl/scheduler/execute.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="io_8hpp.html">viennacl/scheduler/io.hpp</a>&quot;</span></div>
</div><!-- fragment --><p> This tutorial sets up three vectors and finally assigns the sum of two to the third. Although this can be achieved with only a few lines of code using the standard ViennaCL C++ API, we go through the low-level interface for demonstration purposes. </p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> <a name="a0"></a><a class="code" href="benchmarks_2scheduler_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>()</div>
<div class="line">{</div>
<div class="line">  <span class="keyword">typedef</span> <span class="keywordtype">float</span>       <a name="a1"></a><a class="code" href="fft__1d_8cpp.html#ad5c19ca4f47d3f8ec21232a5af2624e5">ScalarType</a>;  <span class="comment">// do not change without adjusting the code for the low-level interface below</span></div>
</div><!-- fragment --><p> Create three vectors, initialize two of them with ascending/descending integers: </p>
<div class="fragment"><div class="line"><a name="_a2"></a><a class="code" href="classviennacl_1_1vector.html">viennacl::vector&lt;ScalarType&gt;</a> vcl_vec1(10);</div>
<div class="line"><a class="code" href="classviennacl_1_1vector.html">viennacl::vector&lt;ScalarType&gt;</a> vcl_vec2(10);</div>
<div class="line"><a class="code" href="classviennacl_1_1vector.html">viennacl::vector&lt;ScalarType&gt;</a> vcl_vec3(10);</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; 10; ++i)</div>
<div class="line">{</div>
<div class="line">  vcl_vec1[i] = <a class="code" href="fft__1d_8cpp.html#ad5c19ca4f47d3f8ec21232a5af2624e5">ScalarType</a>(i);</div>
<div class="line">  vcl_vec2[i] = <a class="code" href="fft__1d_8cpp.html#ad5c19ca4f47d3f8ec21232a5af2624e5">ScalarType</a>(10 - i);</div>
<div class="line">}</div>
</div><!-- fragment --><p> Build expression graph for the operation vcl_vec3 = vcl_vec1 + vcl_vec2</p>
<p>This requires the following expression graph: </p>
<div class="fragment"><div class="line">         ( = )</div>
<div class="line">        /      |</div>
<div class="line">vcl_vec3      ( + )</div>
<div class="line">             /     |</div>
<div class="line">       vcl_vec1    vcl_vec2</div>
</div><!-- fragment --><p> One expression node consists of two leaves and the operation connecting the two. Here we thus need two nodes: One for {vcl_vec3, = , link}, where 'link' points to the second node {vcl_vec1, +, vcl_vec2}.</p>
<p>The following is the lowest level on which one could build the expression tree. Even for a C API one would introduce some additional convenience layer such as add_vector_float_to_lhs(...); etc. </p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <a class="code" href="classviennacl_1_1scheduler_1_1statement.html#a600279969b8e7e2e88cf1be2c5bb0513">viennacl::scheduler::statement::container_type</a>   NodeContainerType;   <span class="comment">// this is just std::vector&lt;viennacl::scheduler::statement_node&gt;</span></div>
<div class="line">NodeContainerType expression_nodes(2);                                        <span class="comment">//container with two nodes</span></div>
</div><!-- fragment --> <h2>First Node (Assignment)</h2>
<div class="fragment"><div class="line"><span class="comment">// specify LHS of first node, i.e. vcl_vec3:</span></div>
<div class="line">expression_nodes[0].lhs.type_family  = <a name="a3"></a><a class="code" href="namespaceviennacl_1_1scheduler.html#a02ec095c8e7689f4fa0a0937f8f10914a894ffb1bc4900d3f06ec728e04de4e01">viennacl::scheduler::VECTOR_TYPE_FAMILY</a>;   <span class="comment">// family of vectors</span></div>
<div class="line">expression_nodes[0].lhs.subtype      = <a name="a4"></a><a class="code" href="namespaceviennacl_1_1scheduler.html#ae691d1992521cd384c3dad19ac46a6c4a8aa28e4ca281ea9a4c86f1ed7f37492c">viennacl::scheduler::DENSE_VECTOR_TYPE</a>;    <span class="comment">// a dense vector</span></div>
<div class="line">expression_nodes[0].lhs.numeric_type = <a name="a5"></a><a class="code" href="namespaceviennacl_1_1scheduler.html#a4e3a8f20bd7e1a12a898442356ff52e0a5799220a4a7462f847d16ec4c4b4395a">viennacl::scheduler::FLOAT_TYPE</a>;           <span class="comment">// vector consisting of floats</span></div>
<div class="line">expression_nodes[0].lhs.vector_float = &amp;vcl_vec3;                                 <span class="comment">// provide pointer to vcl_vec3;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// specify assignment operation for this node:</span></div>
<div class="line">expression_nodes[0].op.type_family   = <a name="a6"></a><a class="code" href="namespaceviennacl_1_1scheduler.html#a467c6429147a5dbd11fbf18eb58c451ea0fe6949e034554a6cfe7bce250bd460d">viennacl::scheduler::OPERATION_BINARY_TYPE_FAMILY</a>; <span class="comment">// this is a binary operation, so both LHS and RHS operands are important</span></div>
<div class="line">expression_nodes[0].op.type          = <a name="a7"></a><a class="code" href="namespaceviennacl_1_1scheduler.html#a32152bde4bf97c79e26300a441099a35a63ee858031e1985a022e8cc84d19ea5d">viennacl::scheduler::OPERATION_BINARY_ASSIGN_TYPE</a>; <span class="comment">// assignment operation: &#39;=&#39;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// specify RHS: Just refer to the second node:</span></div>
<div class="line">expression_nodes[0].rhs.type_family  = <a name="a8"></a><a class="code" href="namespaceviennacl_1_1scheduler.html#a02ec095c8e7689f4fa0a0937f8f10914a8dacc89f3e43c4ca287b23d5d89b75c5">viennacl::scheduler::COMPOSITE_OPERATION_FAMILY</a>; <span class="comment">// this links to another node (no need to set .subtype and .numeric_type)</span></div>
<div class="line">expression_nodes[0].rhs.node_index   = 1;                                               <span class="comment">// index of the other node</span></div>
</div><!-- fragment --> <h2>Second Node (Addition)</h2>
<div class="fragment"><div class="line"><span class="comment">// LHS</span></div>
<div class="line">expression_nodes[1].lhs.type_family  = <a class="code" href="namespaceviennacl_1_1scheduler.html#a02ec095c8e7689f4fa0a0937f8f10914a894ffb1bc4900d3f06ec728e04de4e01">viennacl::scheduler::VECTOR_TYPE_FAMILY</a>;   <span class="comment">// family of vectors</span></div>
<div class="line">expression_nodes[1].lhs.subtype      = <a class="code" href="namespaceviennacl_1_1scheduler.html#ae691d1992521cd384c3dad19ac46a6c4a8aa28e4ca281ea9a4c86f1ed7f37492c">viennacl::scheduler::DENSE_VECTOR_TYPE</a>;    <span class="comment">// a dense vector</span></div>
<div class="line">expression_nodes[1].lhs.numeric_type = <a class="code" href="namespaceviennacl_1_1scheduler.html#a4e3a8f20bd7e1a12a898442356ff52e0a5799220a4a7462f847d16ec4c4b4395a">viennacl::scheduler::FLOAT_TYPE</a>;           <span class="comment">// vector consisting of floats</span></div>
<div class="line">expression_nodes[1].lhs.vector_float = &amp;vcl_vec1;                                 <span class="comment">// provide pointer to vcl_vec1</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// OP</span></div>
<div class="line">expression_nodes[1].op.type_family   = <a class="code" href="namespaceviennacl_1_1scheduler.html#a467c6429147a5dbd11fbf18eb58c451ea0fe6949e034554a6cfe7bce250bd460d">viennacl::scheduler::OPERATION_BINARY_TYPE_FAMILY</a>; <span class="comment">// this is a binary operation, so both LHS and RHS operands are important</span></div>
<div class="line">expression_nodes[1].op.type          = <a name="a9"></a><a class="code" href="namespaceviennacl_1_1scheduler.html#a32152bde4bf97c79e26300a441099a35ae57e67b17d7e2d4ff45527baee805994">viennacl::scheduler::OPERATION_BINARY_ADD_TYPE</a>;    <span class="comment">// addition operation: &#39;+&#39;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// RHS</span></div>
<div class="line">expression_nodes[1].rhs.type_family  = <a class="code" href="namespaceviennacl_1_1scheduler.html#a02ec095c8e7689f4fa0a0937f8f10914a894ffb1bc4900d3f06ec728e04de4e01">viennacl::scheduler::VECTOR_TYPE_FAMILY</a>;  <span class="comment">// family of vectors</span></div>
<div class="line">expression_nodes[1].rhs.subtype      = <a class="code" href="namespaceviennacl_1_1scheduler.html#ae691d1992521cd384c3dad19ac46a6c4a8aa28e4ca281ea9a4c86f1ed7f37492c">viennacl::scheduler::DENSE_VECTOR_TYPE</a>;   <span class="comment">// a dense vector</span></div>
<div class="line">expression_nodes[1].rhs.numeric_type = <a class="code" href="namespaceviennacl_1_1scheduler.html#a4e3a8f20bd7e1a12a898442356ff52e0a5799220a4a7462f847d16ec4c4b4395a">viennacl::scheduler::FLOAT_TYPE</a>;          <span class="comment">// vector consisting of floats</span></div>
<div class="line">expression_nodes[1].rhs.vector_float = &amp;vcl_vec2;                                <span class="comment">// provide pointer to vcl_vec2</span></div>
</div><!-- fragment --><p> Create the full statement (aka. single line of code such as vcl_vec3 = vcl_vec1 + vcl_vec2): </p>
<div class="fragment"><div class="line"><a name="_a10"></a><a class="code" href="classviennacl_1_1scheduler_1_1statement.html">viennacl::scheduler::statement</a> vec_addition(expression_nodes);</div>
</div><!-- fragment --><p> Print the expression. Resembles the tree outlined in comments above. </p>
<div class="fragment"><div class="line">std::cout &lt;&lt; vec_addition &lt;&lt; std::endl;</div>
</div><!-- fragment --><p> Execute the operation </p>
<div class="fragment"><div class="line"><a name="a11"></a><a class="code" href="namespaceviennacl_1_1scheduler.html#a7c54b25dd9b7af74a98800e92035d398">viennacl::scheduler::execute</a>(vec_addition);</div>
</div><!-- fragment --><p> Print vectors in order to check the result: </p>
<div class="fragment"><div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;vcl_vec1: &quot;</span> &lt;&lt; vcl_vec1 &lt;&lt; std::endl;</div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;vcl_vec2: &quot;</span> &lt;&lt; vcl_vec2 &lt;&lt; std::endl;</div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;vcl_vec3: &quot;</span> &lt;&lt; vcl_vec3 &lt;&lt; std::endl;</div>
</div><!-- fragment --><p> That's it! Print success message and exit. </p>
<div class="fragment"><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;!!!! TUTORIAL COMPLETED SUCCESSFULLY !!!!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line">}</div>
</div><!-- fragment --> <h2>Full Example Code</h2>
<div class="fragment"><div class="line"><span class="comment">/* =========================================================================</span></div>
<div class="line"><span class="comment">   Copyright (c) 2010-2016, Institute for Microelectronics,</span></div>
<div class="line"><span class="comment">                            Institute for Analysis and Scientific Computing,</span></div>
<div class="line"><span class="comment">                            TU Wien.</span></div>
<div class="line"><span class="comment">   Portions of this software are copyright by UChicago Argonne, LLC.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">                            -----------------</span></div>
<div class="line"><span class="comment">                  ViennaCL - The Vienna Computing Library</span></div>
<div class="line"><span class="comment">                            -----------------</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">   Project Head:    Karl Rupp                   rupp@iue.tuwien.ac.at</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">   (A list of authors and contributors can be found in the PDF manual)</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">   License:         MIT (X11), see file LICENSE in the base directory</span></div>
<div class="line"><span class="comment">============================================================================= */</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// include necessary system headers</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// include basic scalar and vector types of ViennaCL</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="scalar_8hpp.html">viennacl/scalar.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="vector_8hpp.html">viennacl/vector.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="matrix_8hpp.html">viennacl/matrix.hpp</a>&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="scheduler_2execute_8hpp.html">viennacl/scheduler/execute.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="io_8hpp.html">viennacl/scheduler/io.hpp</a>&quot;</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="benchmarks_2scheduler_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>()</div>
<div class="line">{</div>
<div class="line">  <span class="keyword">typedef</span> <span class="keywordtype">float</span>       <a class="code" href="fft__1d_8cpp.html#ad5c19ca4f47d3f8ec21232a5af2624e5">ScalarType</a>;  <span class="comment">// do not change without adjusting the code for the low-level interface below</span></div>
<div class="line"></div>
<div class="line">  <a class="code" href="classviennacl_1_1vector.html">viennacl::vector&lt;ScalarType&gt;</a> vcl_vec1(10);</div>
<div class="line">  <a class="code" href="classviennacl_1_1vector.html">viennacl::vector&lt;ScalarType&gt;</a> vcl_vec2(10);</div>
<div class="line">  <a class="code" href="classviennacl_1_1vector.html">viennacl::vector&lt;ScalarType&gt;</a> vcl_vec3(10);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; 10; ++i)</div>
<div class="line">  {</div>
<div class="line">    vcl_vec1[i] = <a class="code" href="fft__1d_8cpp.html#ad5c19ca4f47d3f8ec21232a5af2624e5">ScalarType</a>(i);</div>
<div class="line">    vcl_vec2[i] = <a class="code" href="fft__1d_8cpp.html#ad5c19ca4f47d3f8ec21232a5af2624e5">ScalarType</a>(10 - i);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keyword">typedef</span> <a class="code" href="classviennacl_1_1scheduler_1_1statement.html#a600279969b8e7e2e88cf1be2c5bb0513">viennacl::scheduler::statement::container_type</a>   NodeContainerType;   <span class="comment">// this is just std::vector&lt;viennacl::scheduler::statement_node&gt;</span></div>
<div class="line">  NodeContainerType expression_nodes(2);                                        <span class="comment">//container with two nodes</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">// specify LHS of first node, i.e. vcl_vec3:</span></div>
<div class="line">  expression_nodes[0].lhs.type_family  = <a class="code" href="namespaceviennacl_1_1scheduler.html#a02ec095c8e7689f4fa0a0937f8f10914a894ffb1bc4900d3f06ec728e04de4e01">viennacl::scheduler::VECTOR_TYPE_FAMILY</a>;   <span class="comment">// family of vectors</span></div>
<div class="line">  expression_nodes[0].lhs.subtype      = <a class="code" href="namespaceviennacl_1_1scheduler.html#ae691d1992521cd384c3dad19ac46a6c4a8aa28e4ca281ea9a4c86f1ed7f37492c">viennacl::scheduler::DENSE_VECTOR_TYPE</a>;    <span class="comment">// a dense vector</span></div>
<div class="line">  expression_nodes[0].lhs.numeric_type = <a class="code" href="namespaceviennacl_1_1scheduler.html#a4e3a8f20bd7e1a12a898442356ff52e0a5799220a4a7462f847d16ec4c4b4395a">viennacl::scheduler::FLOAT_TYPE</a>;           <span class="comment">// vector consisting of floats</span></div>
<div class="line">  expression_nodes[0].lhs.vector_float = &amp;vcl_vec3;                                 <span class="comment">// provide pointer to vcl_vec3;</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">// specify assignment operation for this node:</span></div>
<div class="line">  expression_nodes[0].op.type_family   = <a class="code" href="namespaceviennacl_1_1scheduler.html#a467c6429147a5dbd11fbf18eb58c451ea0fe6949e034554a6cfe7bce250bd460d">viennacl::scheduler::OPERATION_BINARY_TYPE_FAMILY</a>; <span class="comment">// this is a binary operation, so both LHS and RHS operands are important</span></div>
<div class="line">  expression_nodes[0].op.type          = <a class="code" href="namespaceviennacl_1_1scheduler.html#a32152bde4bf97c79e26300a441099a35a63ee858031e1985a022e8cc84d19ea5d">viennacl::scheduler::OPERATION_BINARY_ASSIGN_TYPE</a>; <span class="comment">// assignment operation: &#39;=&#39;</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">// specify RHS: Just refer to the second node:</span></div>
<div class="line">  expression_nodes[0].rhs.type_family  = <a class="code" href="namespaceviennacl_1_1scheduler.html#a02ec095c8e7689f4fa0a0937f8f10914a8dacc89f3e43c4ca287b23d5d89b75c5">viennacl::scheduler::COMPOSITE_OPERATION_FAMILY</a>; <span class="comment">// this links to another node (no need to set .subtype and .numeric_type)</span></div>
<div class="line">  expression_nodes[0].rhs.node_index   = 1;                                               <span class="comment">// index of the other node</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">// LHS</span></div>
<div class="line">  expression_nodes[1].lhs.type_family  = <a class="code" href="namespaceviennacl_1_1scheduler.html#a02ec095c8e7689f4fa0a0937f8f10914a894ffb1bc4900d3f06ec728e04de4e01">viennacl::scheduler::VECTOR_TYPE_FAMILY</a>;   <span class="comment">// family of vectors</span></div>
<div class="line">  expression_nodes[1].lhs.subtype      = <a class="code" href="namespaceviennacl_1_1scheduler.html#ae691d1992521cd384c3dad19ac46a6c4a8aa28e4ca281ea9a4c86f1ed7f37492c">viennacl::scheduler::DENSE_VECTOR_TYPE</a>;    <span class="comment">// a dense vector</span></div>
<div class="line">  expression_nodes[1].lhs.numeric_type = <a class="code" href="namespaceviennacl_1_1scheduler.html#a4e3a8f20bd7e1a12a898442356ff52e0a5799220a4a7462f847d16ec4c4b4395a">viennacl::scheduler::FLOAT_TYPE</a>;           <span class="comment">// vector consisting of floats</span></div>
<div class="line">  expression_nodes[1].lhs.vector_float = &amp;vcl_vec1;                                 <span class="comment">// provide pointer to vcl_vec1</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">// OP</span></div>
<div class="line">  expression_nodes[1].op.type_family   = <a class="code" href="namespaceviennacl_1_1scheduler.html#a467c6429147a5dbd11fbf18eb58c451ea0fe6949e034554a6cfe7bce250bd460d">viennacl::scheduler::OPERATION_BINARY_TYPE_FAMILY</a>; <span class="comment">// this is a binary operation, so both LHS and RHS operands are important</span></div>
<div class="line">  expression_nodes[1].op.type          = <a class="code" href="namespaceviennacl_1_1scheduler.html#a32152bde4bf97c79e26300a441099a35ae57e67b17d7e2d4ff45527baee805994">viennacl::scheduler::OPERATION_BINARY_ADD_TYPE</a>;    <span class="comment">// addition operation: &#39;+&#39;</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">// RHS</span></div>
<div class="line">  expression_nodes[1].rhs.type_family  = <a class="code" href="namespaceviennacl_1_1scheduler.html#a02ec095c8e7689f4fa0a0937f8f10914a894ffb1bc4900d3f06ec728e04de4e01">viennacl::scheduler::VECTOR_TYPE_FAMILY</a>;  <span class="comment">// family of vectors</span></div>
<div class="line">  expression_nodes[1].rhs.subtype      = <a class="code" href="namespaceviennacl_1_1scheduler.html#ae691d1992521cd384c3dad19ac46a6c4a8aa28e4ca281ea9a4c86f1ed7f37492c">viennacl::scheduler::DENSE_VECTOR_TYPE</a>;   <span class="comment">// a dense vector</span></div>
<div class="line">  expression_nodes[1].rhs.numeric_type = <a class="code" href="namespaceviennacl_1_1scheduler.html#a4e3a8f20bd7e1a12a898442356ff52e0a5799220a4a7462f847d16ec4c4b4395a">viennacl::scheduler::FLOAT_TYPE</a>;          <span class="comment">// vector consisting of floats</span></div>
<div class="line">  expression_nodes[1].rhs.vector_float = &amp;vcl_vec2;                                <span class="comment">// provide pointer to vcl_vec2</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">  <a class="code" href="classviennacl_1_1scheduler_1_1statement.html">viennacl::scheduler::statement</a> vec_addition(expression_nodes);</div>
<div class="line"></div>
<div class="line">  std::cout &lt;&lt; vec_addition &lt;&lt; std::endl;</div>
<div class="line"></div>
<div class="line">  <a class="code" href="namespaceviennacl_1_1scheduler.html#a7c54b25dd9b7af74a98800e92035d398">viennacl::scheduler::execute</a>(vec_addition);</div>
<div class="line"></div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;vcl_vec1: &quot;</span> &lt;&lt; vcl_vec1 &lt;&lt; std::endl;</div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;vcl_vec2: &quot;</span> &lt;&lt; vcl_vec2 &lt;&lt; std::endl;</div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;vcl_vec3: &quot;</span> &lt;&lt; vcl_vec3 &lt;&lt; std::endl;</div>
<div class="line"></div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;!!!! TUTORIAL COMPLETED SUCCESSFULLY !!!!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line">}</div>
<div class="line"></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Jan 20 2016 22:32:38 for ViennaCL - The Vienna Computing Library by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
